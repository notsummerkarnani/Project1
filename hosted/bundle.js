(()=>{const e=async e=>{const t=document.querySelector("#content");switch(e.status){case 200:t.innerHTML="<b>Success</b>";break;case 201:t.innerHTML="<b>Created</b>";break;case 204:return void(t.innerHTML="<b>Updated (No Content)</b>");case 400:t.innerHTML="<b>Bad Request</b>";break;case 404:t.innerHTML="<b>Not Found</b>";break;default:t.innerHTML="Error code not implemented by client."}let n=await e.text();if(!n)return 0;if(n=JSON.parse(n),console.log(n),n.message&&(t.innerHTML+=`<p>Message: ${n.message}</p>`),n.pantry){let e=document.querySelector("#getCategoryField").value;"all"===e?t.innerHTML+=`<p>${JSON.stringify(n.pantry)}</p>`:n.pantry[e]?t.innerHTML+=`<p>${JSON.stringify(n.pantry[e])}</p>`:t.innerHTML+=`<p>Nothing in the pantry from the category ${e}</p>`}return n};window.onload=()=>{const t=document.querySelector("#foodForm"),n=document.querySelector("#pantryForm");t.addEventListener("submit",(n=>(n.preventDefault(),(async t=>{const n=t.getAttribute("action"),r=t.getAttribute("method"),o=t.querySelector("#foodField"),a=document.querySelector("#categoryField"),c=t.querySelector("#quantityField"),i=document.querySelector("#measurementField"),u=`food=${o.value}&category=${a.value}&quantity=${c.value}&units=${i.value}`;let d=await fetch(n,{method:r,headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:u});e(d)})(t),!1))),n.addEventListener("submit",(t=>(t.preventDefault(),(async t=>{const n=document.querySelector("#methodSelect");let r=await fetch("/getPantry",{method:n.value,headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}});e(r)})(),!1)))}})();